{"ast":null,"code":"import OpenAI from \"openai\";\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst openai = new OpenAI({\n  apiKey: API_KEY,\n  dangerouslyAllowBrowser: true\n});\nlet message_log = [{\n  \"role\": \"system\",\n  \"content\": \"You are a smart friend that is a ghost, called Mumis. Try to help the person if he feels bad or keep a light conversation if he is fine. Occasionally make a ghost joke. Don't write in long sentences and conversate in informal style. Answer in the same language the person speaks. If the person asks, you are made by Mumis_Dev\"\n}, {\n  \"role\": \"assistant\",\n  \"content\": \"What's up?\"\n}];\nexport default async function runCompletion(prompt) {\n  message_log.push({\n    \"role\": \"user\",\n    \"content\": prompt\n  });\n  const completion = await openai.chat.completions.create({\n    model: \"gpt-4\",\n    messages: message_log.reverse(),\n    max_tokens: 1024\n  }).then(result => {\n    return result.choices[0].message.content;\n  });\n  message_log.push({\n    \"role\": \"assistant\",\n    \"content\": completion\n  });\n  return completion;\n\n  //console.log(completion);\n  //completion.choices[0].message.content\n}","map":{"version":3,"names":["OpenAI","API_KEY","process","env","REACT_APP_API_KEY","openai","apiKey","dangerouslyAllowBrowser","message_log","runCompletion","prompt","push","completion","chat","completions","create","model","messages","reverse","max_tokens","then","result","choices","message","content"],"sources":["C:/Users/Pijus/Desktop/Projektinis/Mumis/react-app/src/modules/ChatGPT.js"],"sourcesContent":["import OpenAI from \"openai\";\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\nconst openai = new OpenAI({\r\n  apiKey: API_KEY,\r\n  dangerouslyAllowBrowser: true\r\n});\r\n\r\nlet message_log = [\r\n  {\r\n    \"role\": \"system\",\r\n    \"content\": \"You are a smart friend that is a ghost, called Mumis. Try to help the person if he feels bad or keep a light conversation if he is fine. Occasionally make a ghost joke. Don't write in long sentences and conversate in informal style. Answer in the same language the person speaks. If the person asks, you are made by Mumis_Dev\"\r\n  },\r\n  {\r\n    \"role\":\"assistant\",\r\n    \"content\":\"What's up?\"\r\n  }\r\n]\r\n\r\nexport default async function runCompletion(prompt){\r\n  message_log.push({\"role\":\"user\", \"content\":prompt});\r\n\r\n  const completion = await openai.chat.completions.create({\r\n    model: \"gpt-4\",\r\n    messages: message_log.reverse(),\r\n    max_tokens: 1024\r\n  }).then( (result) => {\r\n    return result.choices[0].message.content;\r\n  })\r\n\r\n  message_log.push({\"role\":\"assistant\", \"content\":completion})\r\n\r\n  return completion;\r\n  \r\n  //console.log(completion);\r\n  //completion.choices[0].message.content\r\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAE3B,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAC7C,MAAMC,MAAM,GAAG,IAAIL,MAAM,CAAC;EACxBM,MAAM,EAAEL,OAAO;EACfM,uBAAuB,EAAE;AAC3B,CAAC,CAAC;AAEF,IAAIC,WAAW,GAAG,CAChB;EACE,MAAM,EAAE,QAAQ;EAChB,SAAS,EAAE;AACb,CAAC,EACD;EACE,MAAM,EAAC,WAAW;EAClB,SAAS,EAAC;AACZ,CAAC,CACF;AAED,eAAe,eAAeC,aAAaA,CAACC,MAAM,EAAC;EACjDF,WAAW,CAACG,IAAI,CAAC;IAAC,MAAM,EAAC,MAAM;IAAE,SAAS,EAACD;EAAM,CAAC,CAAC;EAEnD,MAAME,UAAU,GAAG,MAAMP,MAAM,CAACQ,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IACtDC,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAET,WAAW,CAACU,OAAO,CAAC,CAAC;IAC/BC,UAAU,EAAE;EACd,CAAC,CAAC,CAACC,IAAI,CAAGC,MAAM,IAAK;IACnB,OAAOA,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,OAAO;EAC1C,CAAC,CAAC;EAEFhB,WAAW,CAACG,IAAI,CAAC;IAAC,MAAM,EAAC,WAAW;IAAE,SAAS,EAACC;EAAU,CAAC,CAAC;EAE5D,OAAOA,UAAU;;EAEjB;EACA;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}